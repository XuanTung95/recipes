[
  {
    "cmd": [
      "bb",
      "batch",
      "-host",
      "cr-buildbucket.appspot.com"
    ],
    "infra_step": true,
    "name": "buildbucket.schedule",
    "stdin": "{\"requests\": [{\"scheduleBuild\": {\"builder\": {\"builder\": \"Linux SDK Drone\"}, \"experimental\": \"NO\", \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", \"priority\": 25, \"properties\": {\"android_sdk_license\": \"\", \"android_sdk_preview_license\": \"\", \"dependencies\": [{\"dependency\": \"android_sdk\"}, {\"dependency\": \"chrome_and_driver\"}], \"git_ref\": \"abc\", \"git_url\": \"https://abc\", \"shard\": \"\", \"subshard\": \"0\", \"task_name\": \"-0\"}, \"requestId\": \"0-00000000-0000-0000-0000-000000001337\", \"swarming\": {\"parentRunId\": \"fake-task-id\"}, \"tags\": [{\"key\": \"user_agent\", \"value\": \"recipe\"}]}}, {\"scheduleBuild\": {\"builder\": {\"builder\": \"Linux SDK Drone\"}, \"experimental\": \"NO\", \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", \"priority\": 25, \"properties\": {\"android_sdk_license\": \"\", \"android_sdk_preview_license\": \"\", \"dependencies\": [{\"dependency\": \"android_sdk\"}, {\"dependency\": \"chrome_and_driver\"}], \"git_ref\": \"abc\", \"git_url\": \"https://abc\", \"shard\": \"\", \"subshard\": \"1_last\", \"task_name\": \"-1_last\"}, \"requestId\": \"0-00000000-0000-0000-0000-00000000133a\", \"swarming\": {\"parentRunId\": \"fake-task-id\"}, \"tags\": [{\"key\": \"user_agent\", \"value\": \"recipe\"}]}}]}",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"responses\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"builder\": \"Linux SDK Drone\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514000\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"builder\": \"Linux SDK Drone\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514001\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LOG_LINE@request@{@@@",
      "@@@STEP_LOG_LINE@request@  \"requests\": [@@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"builder\": \"Linux SDK Drone\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"experimental\": \"NO\", @@@",
      "@@@STEP_LOG_LINE@request@        \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", @@@",
      "@@@STEP_LOG_LINE@request@        \"priority\": 25, @@@",
      "@@@STEP_LOG_LINE@request@        \"properties\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"android_sdk_license\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"android_sdk_preview_license\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"dependencies\": [@@@",
      "@@@STEP_LOG_LINE@request@            {@@@",
      "@@@STEP_LOG_LINE@request@              \"dependency\": \"android_sdk\"@@@",
      "@@@STEP_LOG_LINE@request@            }, @@@",
      "@@@STEP_LOG_LINE@request@            {@@@",
      "@@@STEP_LOG_LINE@request@              \"dependency\": \"chrome_and_driver\"@@@",
      "@@@STEP_LOG_LINE@request@            }@@@",
      "@@@STEP_LOG_LINE@request@          ], @@@",
      "@@@STEP_LOG_LINE@request@          \"git_ref\": \"abc\", @@@",
      "@@@STEP_LOG_LINE@request@          \"git_url\": \"https://abc\", @@@",
      "@@@STEP_LOG_LINE@request@          \"shard\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"subshard\": \"0\", @@@",
      "@@@STEP_LOG_LINE@request@          \"task_name\": \"-0\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"requestId\": \"0-00000000-0000-0000-0000-000000001337\", @@@",
      "@@@STEP_LOG_LINE@request@        \"swarming\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"parentRunId\": \"fake-task-id\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"tags\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"user_agent\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"recipe\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ]@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }, @@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"scheduleBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"builder\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"builder\": \"Linux SDK Drone\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"experimental\": \"NO\", @@@",
      "@@@STEP_LOG_LINE@request@        \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", @@@",
      "@@@STEP_LOG_LINE@request@        \"priority\": 25, @@@",
      "@@@STEP_LOG_LINE@request@        \"properties\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"android_sdk_license\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"android_sdk_preview_license\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"dependencies\": [@@@",
      "@@@STEP_LOG_LINE@request@            {@@@",
      "@@@STEP_LOG_LINE@request@              \"dependency\": \"android_sdk\"@@@",
      "@@@STEP_LOG_LINE@request@            }, @@@",
      "@@@STEP_LOG_LINE@request@            {@@@",
      "@@@STEP_LOG_LINE@request@              \"dependency\": \"chrome_and_driver\"@@@",
      "@@@STEP_LOG_LINE@request@            }@@@",
      "@@@STEP_LOG_LINE@request@          ], @@@",
      "@@@STEP_LOG_LINE@request@          \"git_ref\": \"abc\", @@@",
      "@@@STEP_LOG_LINE@request@          \"git_url\": \"https://abc\", @@@",
      "@@@STEP_LOG_LINE@request@          \"shard\": \"\", @@@",
      "@@@STEP_LOG_LINE@request@          \"subshard\": \"1_last\", @@@",
      "@@@STEP_LOG_LINE@request@          \"task_name\": \"-1_last\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"requestId\": \"0-00000000-0000-0000-0000-00000000133a\", @@@",
      "@@@STEP_LOG_LINE@request@        \"swarming\": {@@@",
      "@@@STEP_LOG_LINE@request@          \"parentRunId\": \"fake-task-id\"@@@",
      "@@@STEP_LOG_LINE@request@        }, @@@",
      "@@@STEP_LOG_LINE@request@        \"tags\": [@@@",
      "@@@STEP_LOG_LINE@request@          {@@@",
      "@@@STEP_LOG_LINE@request@            \"key\": \"user_agent\", @@@",
      "@@@STEP_LOG_LINE@request@            \"value\": \"recipe\"@@@",
      "@@@STEP_LOG_LINE@request@          }@@@",
      "@@@STEP_LOG_LINE@request@        ]@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }@@@",
      "@@@STEP_LOG_LINE@request@  ]@@@",
      "@@@STEP_LOG_LINE@request@}@@@",
      "@@@STEP_LOG_END@request@@@",
      "@@@STEP_LINK@8922054662172514000@https://cr-buildbucket.appspot.com/build/8922054662172514000@@@",
      "@@@STEP_LINK@8922054662172514001@https://cr-buildbucket.appspot.com/build/8922054662172514001@@@"
    ]
  },
  {
    "cmd": [],
    "name": "Task Shards",
    "~followup_annotations": [
      "@@@STEP_LINK@@https://cr-buildbucket.appspot.com/build/8922054662172514001@@@"
    ]
  },
  {
    "cmd": [],
    "name": "buildbucket.collect"
  },
  {
    "cmd": [
      "bb",
      "collect",
      "-host",
      "cr-buildbucket.appspot.com",
      "-interval",
      "60s",
      "8922054662172514000",
      "8922054662172514001"
    ],
    "infra_step": true,
    "name": "buildbucket.collect.wait",
    "timeout": 10800,
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "bb",
      "batch",
      "-host",
      "cr-buildbucket.appspot.com"
    ],
    "infra_step": true,
    "name": "buildbucket.collect.get",
    "stdin": "{\"requests\": [{\"getBuild\": {\"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", \"id\": \"8922054662172514000\"}}, {\"getBuild\": {\"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", \"id\": \"8922054662172514001\"}}]}",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"responses\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"getBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514000\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"status\": \"SUCCESS\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"getBuild\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"id\": \"8922054662172514001\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"status\": \"SUCCESS\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LOG_LINE@request@{@@@",
      "@@@STEP_LOG_LINE@request@  \"requests\": [@@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"getBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", @@@",
      "@@@STEP_LOG_LINE@request@        \"id\": \"8922054662172514000\"@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }, @@@",
      "@@@STEP_LOG_LINE@request@    {@@@",
      "@@@STEP_LOG_LINE@request@      \"getBuild\": {@@@",
      "@@@STEP_LOG_LINE@request@        \"fields\": \"builder,createTime,createdBy,critical,endTime,id,input,number,output,startTime,status,updateTime\", @@@",
      "@@@STEP_LOG_LINE@request@        \"id\": \"8922054662172514001\"@@@",
      "@@@STEP_LOG_LINE@request@      }@@@",
      "@@@STEP_LOG_LINE@request@    }@@@",
      "@@@STEP_LOG_LINE@request@  ]@@@",
      "@@@STEP_LOG_LINE@request@}@@@",
      "@@@STEP_LOG_END@request@@@",
      "@@@STEP_LINK@8922054662172514000@https://cr-buildbucket.appspot.com/build/8922054662172514000@@@",
      "@@@STEP_LINK@8922054662172514001@https://cr-buildbucket.appspot.com/build/8922054662172514001@@@"
    ]
  },
  {
    "name": "$result"
  }
]